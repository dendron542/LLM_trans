# LLM翻訳Chrome拡張機能

LLM APIを使用してWebページ上の選択したテキストを翻訳するChrome拡張機能です。

## 機能

- 任意のWebページ上でテキストを選択し、右クリックで翻訳
- OpenAI GPTや互換APIとの連携
- 複数言語への翻訳対応
- 翻訳結果をポップアップ表示
- **長文の場合は専用タブで左右分割表示**（NEW!）
- **文字数制限の設定機能**（NEW!）
- API設定の保存
- 多言語UI対応（日本語・英語）

## インストール方法

1. Chrome で `chrome://extensions/` を開きます
2. 右上の「デベロッパーモード」を有効にします
3. 「パッケージ化されていない拡張機能を読み込む」をクリック
4. このプロジェクトフォルダを選択します

## 設定方法

1. 拡張機能アイコンをクリックして設定画面を開きます
2. API URL（例：`https://api.openai.com/v1/chat/completions`）を入力
3. APIキーを入力
4. 翻訳先言語を選択
5. **テキスト長制限を設定**（デフォルト: 200文字）
6. 「設定を保存」ボタンをクリック

## 使用方法

### 通常の翻訳（短いテキスト）
1. 任意のWebページでテキストを選択
2. 右クリックして「選択したテキストを翻訳」を選択
3. 翻訳結果がポップアップで表示されます

### 長文翻訳（設定文字数を超えるテキスト）
1. 長いテキストを選択して右クリック翻訳を実行
2. 自動的に新しいタブが開きます
3. 左側に原文、右側に翻訳結果が表示されます
4. コピーボタンで簡単に文章をコピー可能

## ファイル構成

- `manifest.json` - 拡張機能の設定ファイル
- `background.js` - バックグラウンドスクリプト（右クリックメニュー、API呼び出し）
- `content.js` - コンテンツスクリプト（翻訳結果表示）
- `popup.html` - 設定画面のHTML
- `popup.js` - 設定画面のスクリプト
- `translation_view.html` - 長文翻訳用の専用表示ページ

## 対応API

- OpenAI Chat Completions API
- Anthropic Claude API
- Azure OpenAI Service
- その他互換性のあるLLM API

## 新機能詳細

### 文字数制限設定
- 設定画面で「テキスト長制限」を調整可能
- デフォルトは200文字
- 50文字〜10,000文字の範囲で設定可能

### 専用タブ表示
- 設定文字数を超えるテキストは自動的に専用タブで表示
- 左右分割レイアウトで原文と翻訳を同時表示
- レスポンシブデザインでモバイルにも対応
- 文字数カウント表示
- ワンクリックコピー機能

## 注意事項

- APIキーは安全に保存されますが、信頼できるAPIプロバイダーのみを使用してください
- API使用量に応じて料金が発生する場合があります
- 長文翻訳ではmax_tokensが2000に設定されています
- 翻訳精度はLLMモデルの性能に依存します
